<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Travel MVP - Custom Travel Bags</title>
    <link rel="icon" type="image/png" href="logo.png">
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50">
    <!-- Header -->
    <header class="bg-white shadow-sm">
        <div class="container mx-auto px-4 py-6">
            <div class="flex items-center justify-center">
                <img src="logo.png" alt="Travel MVP Logo" class="h-16 w-auto">
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container mx-auto px-4 py-12">
        <!-- Hero Section -->
        <div class="text-center mb-12">
            <h1 class="text-4xl font-bold text-gray-900 mb-4">Build Your Perfect Travel Bag</h1>
            <p class="text-xl text-gray-600">Start with our base bag and customize with essential travel items</p>
        </div>

        <div class="max-w-4xl mx-auto">
            <div class="grid md:grid-cols-2 gap-8">
                <!-- Product Selection -->
                <div class="bg-white rounded-lg shadow-lg p-6">
                    <h2 class="text-2xl font-bold text-gray-900 mb-6">Customize Your Bag</h2>
                    
                    <!-- Base Bag -->
                    <div class="mb-6 p-4 bg-blue-50 rounded-lg border-2 border-blue-200">
                        <div class="flex justify-between items-center">
                            <div>
                                <h3 class="font-semibold text-lg text-gray-900">Base Travel Bag</h3>
                                <p class="text-sm text-gray-600">Included with every bag</p>
                            </div>
                            <span class="text-xl font-bold text-blue-600">$5.00</span>
                        </div>
                    </div>

                    <!-- Add-ons -->
                    <div class="space-y-3">
                        <h3 class="font-semibold text-lg text-gray-900 mb-4">Add Essentials:</h3>

                        <!-- Toothbrush + Toothpaste -->
                        <label class="flex items-start justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 cursor-pointer transition">
                            <div class="flex items-start">
                                <input type="checkbox" class="addon-checkbox mt-2 w-5 h-5 text-blue-600 rounded" data-price="1.75" data-name="Toothbrush/Toothpaste">
                                <img src="toothbrush.png" alt="Toothbrush" class="ml-4 h-16 w-16 object-contain">
                                <img src="toothpaste.png" alt="Toothpaste" class="ml-3 h-16 w-16 object-contain">
                                <div class="ml-4">
                                    <div class="text-gray-900 font-semibold">Toothbrush & Toothpaste</div>
                                    <p class="text-sm text-gray-600 mt-1">Freshmint adult rubber-handle toothbrush with premium bristles (individually wrapped) and Colgate 0.85 oz travel toothpaste — anticavity, mint-flavor, ADA accepted, gluten-free.</p>
                                </div>
                            </div>
                            <span class="font-semibold text-gray-700">$1.75</span>
                        </label>

                        <!-- Deodorant - Women's -->
                        <label class="flex items-start justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 cursor-pointer transition">
                            <div class="flex items-start">
                                <input type="checkbox" class="addon-checkbox mt-2 w-5 h-5 text-blue-600 rounded" data-price="2.00" data-name="Degree Womens Deodorant">
                                <img src="womens deodorant.png" alt="Women's Deodorant" class="ml-4 h-16 w-16 object-contain">
                                <div class="ml-4">
                                    <div class="text-gray-900 font-semibold">Degree Women's Deodorant (0.5 oz)</div>
                                    <p class="text-sm text-gray-600 mt-1">24-hour dry protection in a convenient 0.5 oz travel stick — 'Shower Clean' scent with rose & jasmine. Invisible solid for women.</p>
                                </div>
                            </div>
                            <span class="font-semibold text-gray-700">$2.00</span>
                        </label>

                        <!-- Deodorant - Men's -->
                        <label class="flex items-start justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 cursor-pointer transition">
                            <div class="flex items-start">
                                <input type="checkbox" class="addon-checkbox mt-2 w-5 h-5 text-blue-600 rounded" data-price="2.00" data-name="Degree Mens Deodorant">
                                <img src="mens deodorant.png" alt="Men's Deodorant" class="ml-4 h-16 w-16 object-contain">
                                <div class="ml-4">
                                    <div class="text-gray-900 font-semibold">Degree Men's Deodorant (0.5 oz)</div>
                                    <p class="text-sm text-gray-600 mt-1">Travel-size 0.5 oz stick — 'Cool Rush' invisible solid that releases extra protection when you sweat to keep you dry and fresh.</p>
                                </div>
                            </div>
                            <span class="font-semibold text-gray-700">$2.00</span>
                        </label>

                        <!-- Hand Sanitizer -->
                        <label class="flex items-start justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 cursor-pointer transition">
                            <div class="flex items-start">
                                <input type="checkbox" class="addon-checkbox mt-2 w-5 h-5 text-blue-600 rounded" data-price="3.50" data-name="Hand Sanitizer">
                                <img src="hand san.png" alt="Hand Sanitizer" class="ml-4 h-16 w-16 object-contain">
                                <div class="ml-4">
                                    <div class="text-gray-900 font-semibold">CareAll Instant Hand Sanitizer</div>
                                    <p class="text-sm text-gray-600 mt-1">Convenient 2 oz travel bottle of instant hand sanitizer — portable and quick-drying.</p>
                                </div>
                            </div>
                            <span class="font-semibold text-gray-700">$3.50</span>
                        </label>

                        <!-- Tissues -->
                        <label class="flex items-start justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 cursor-pointer transition">
                            <div class="flex items-start">
                                <input type="checkbox" class="addon-checkbox mt-2 w-5 h-5 text-blue-600 rounded" data-price="1.99" data-name="Tissues">
                                <img src="kleenex.png" alt="Kleenex" class="ml-4 h-16 w-16 object-contain">
                                <div class="ml-4">
                                    <div class="text-gray-900 font-semibold">Kleenex Pocket Pack (10)</div>
                                    <p class="text-sm text-gray-600 mt-1">Pocket pack of 10 Kleenex tissues with Sneeze Shield to keep moisture on the tissue, not your hands.</p>
                                </div>
                            </div>
                            <span class="font-semibold text-gray-700">$1.99</span>
                        </label>

                        <!-- Gum -->
                        <label class="flex items-start justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 cursor-pointer transition">
                            <div class="flex items-start">
                                <input type="checkbox" class="addon-checkbox mt-2 w-5 h-5 text-blue-600 rounded" data-price="2.50" data-name="Gum">
                                <img src="orbit gum.png" alt="Orbit Gum" class="ml-4 h-16 w-16 object-contain">
                                <div class="ml-4">
                                    <div class="text-gray-900 font-semibold">Orbit Spearmint Gum (14 pcs)</div>
                                    <p class="text-sm text-gray-600 mt-1">Sugar-free spearmint gum — 14 pieces per package to freshen breath.</p>
                                </div>
                            </div>
                            <span class="font-semibold text-gray-700">$2.50</span>
                        </label>

                        <!-- Hairbrush -->
                        <label class="flex items-start justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 cursor-pointer transition">
                            <div class="flex items-start">
                                <input type="checkbox" class="addon-checkbox mt-2 w-5 h-5 text-blue-600 rounded" data-price="1.99" data-name="Hairbrush">
                                <img src="hairbrush.png" alt="Hairbrush" class="ml-4 h-16 w-16 object-contain">
                                <div class="ml-4">
                                    <div class="text-gray-900 font-semibold">Adult Hairbrush (7.5 in)</div>
                                    <p class="text-sm text-gray-600 mt-1">Adult hairbrush individually polybagged for hygiene — compact 7.5-inch size.</p>
                                </div>
                            </div>
                            <span class="font-semibold text-gray-700">$1.99</span>
                        </label>

                        <!-- Body Spray -->
                        <label class="flex items-start justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 cursor-pointer transition">
                            <div class="flex items-start">
                                <input type="checkbox" class="addon-checkbox mt-2 w-5 h-5 text-blue-600 rounded" data-price="3.99" data-name="Body Spray">
                                <img src="axe bodyspray.png" alt="Axe Body Spray" class="ml-4 h-16 w-16 object-contain">
                                <div class="ml-4">
                                    <div class="text-gray-900 font-semibold">Axe Apollo Body Spray (1 oz)</div>
                                    <p class="text-sm text-gray-600 mt-1">Portable 1 oz Axe Apollo — sage & cedarwood fragrance with dual-action odor protection.</p>
                                </div>
                            </div>
                            <span class="font-semibold text-gray-700">$3.99</span>
                        </label>

                        <!-- Hair Ties -->
                        <label class="flex items-start justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 cursor-pointer transition">
                            <div class="flex items-start">
                                <input type="checkbox" class="addon-checkbox mt-2 w-5 h-5 text-blue-600 rounded" data-price="1.99" data-name="Hair Ties">
                                <img src="hair ties.png" alt="Hair Ties" class="ml-4 h-16 w-16 object-contain">
                                <div class="ml-4">
                                    <div class="text-gray-900 font-semibold">Large Black Elastic Hair Ties (18)</div>
                                    <p class="text-sm text-gray-600 mt-1">Card of 18 black elastics (2mm) with metal closure — versatile for all hair types.</p>
                                </div>
                            </div>
                            <span class="font-semibold text-gray-700">$1.99</span>
                        </label>
                    </div>
                </div>

                <!-- Cart & Current Bag -->
                <div class="space-y-6">
                    <!-- Current Bag Builder -->
                    <div class="bg-white rounded-lg shadow-lg p-6">
                        <h2 class="text-2xl font-bold text-gray-900 mb-6">Current Bag</h2>
                        
                        <div class="space-y-3 mb-6">
                            <div class="flex justify-between py-2 border-b border-gray-200">
                                <span class="text-gray-700">Base Travel Bag</span>
                                <span class="font-semibold text-gray-900">$5.00</span>
                            </div>
                            
                            <div id="selected-items" class="space-y-2">
                                <!-- Selected add-ons will appear here -->
                            </div>
                        </div>

                        <div class="border-t-2 border-gray-300 pt-4 mb-4">
                            <div class="flex justify-between items-center">
                                <span class="text-lg font-bold text-gray-900">Bag Total:</span>
                                <span id="bag-price" class="text-2xl font-bold text-blue-600">$5.00</span>
                            </div>
                        </div>

                        <button id="add-to-cart-btn" class="w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-3 px-6 rounded-lg transition duration-200 shadow-lg">
                            Add to Cart
                        </button>
                    </div>

                    <!-- Shopping Cart -->
                    <div class="bg-white rounded-lg shadow-lg p-6">
                        <h2 class="text-2xl font-bold text-gray-900 mb-6">Shopping Cart</h2>
                        
                        <div id="cart-items" class="space-y-4 mb-6 min-h-[60px]">
                            <p class="text-gray-500 text-center py-4">Your cart is empty</p>
                        </div>

                        <div class="border-t-2 border-gray-300 pt-4 mb-6">
                            <div class="flex justify-between items-center">
                                <span class="text-xl font-bold text-gray-900">Cart Total:</span>
                                <span id="cart-total" class="text-3xl font-bold text-blue-600">$0.00</span>
                            </div>
                        </div>

                        <button id="checkout-btn" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-4 px-6 rounded-lg transition duration-200 shadow-lg disabled:bg-gray-400 disabled:cursor-not-allowed" disabled>
                            Proceed to Checkout
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Checkout Modal -->
        <div id="checkout-modal" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4">
            <div class="bg-white rounded-lg shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto">
                <div class="p-6">
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-3xl font-bold text-gray-900">Checkout</h2>
                        <button id="close-modal" class="text-gray-400 hover:text-gray-600 text-2xl">&times;</button>
                    </div>

                    <!-- Order Summary -->
                    <div class="mb-6 p-4 bg-gray-50 rounded-lg">
                        <h3 class="font-semibold text-lg mb-3">Order Summary</h3>
                        <div id="checkout-summary" class="space-y-2 mb-3">
                            <!-- Order items will be populated here -->
                        </div>
                        <div class="border-t pt-3 mt-3">
                            <div class="flex justify-between items-center">
                                <span class="font-bold text-xl">Total:</span>
                                <span id="checkout-total" class="font-bold text-2xl text-blue-600">$0.00</span>
                            </div>
                        </div>
                    </div>

                    <!-- Checkout Form -->
                    <form id="checkout-form" class="space-y-4">
                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-2">Full Name *</label>
                            <input type="text" id="customer-name" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                        </div>

                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-2">Email *</label>
                            <input type="email" id="customer-email" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                        </div>

                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-2">Phone Number *</label>
                            <input type="tel" id="customer-phone" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                        </div>

                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-2">Shipping Address *</label>
                            <textarea id="customer-address" required rows="3" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"></textarea>
                        </div>

                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-3">Payment Method *</label>
                            <div class="space-y-3">
                                <label class="flex items-center p-4 border-2 border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50 transition">
                                    <input type="radio" name="payment-method" value="venmo" class="w-5 h-5 text-blue-600" required>
                                    <span class="ml-3 font-semibold text-gray-900">Venmo</span>
                                </label>
                                <label class="flex items-center p-4 border-2 border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50 transition">
                                    <input type="radio" name="payment-method" value="cash" class="w-5 h-5 text-blue-600">
                                    <span class="ml-3 font-semibold text-gray-900">Cash (Pay on Delivery)</span>
                                </label>
                            </div>
                        </div>

                        <div id="venmo-instructions" class="hidden p-4 bg-blue-50 border border-blue-200 rounded-lg">
                            <p class="font-semibold text-blue-900 mb-2">Venmo Payment Instructions:</p>
                            <p class="text-sm text-blue-800 mb-2">Please send payment to: <span class="font-bold">@TravelMVP</span></p>
                            <p class="text-sm text-blue-800">Include your email in the payment note.</p>
                        </div>

                        <div class="pt-4">
                            <button type="submit" id="submit-order" class="w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-4 px-6 rounded-lg transition duration-200 shadow-lg">
                                Place Order
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <!-- Success Modal -->
        <div id="success-modal" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4">
            <div class="bg-white rounded-lg shadow-2xl max-w-md w-full p-8 text-center">
                <div class="mb-4">
                    <svg class="mx-auto h-16 w-16 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                    </svg>
                </div>
                <h2 class="text-2xl font-bold text-gray-900 mb-2">Order Placed Successfully!</h2>
                <p class="text-gray-600 mb-2">Thank you for your order!</p>
                <p class="text-sm text-gray-500 mb-6">A confirmation email has been sent to your email address.</p>
                <p class="text-lg font-semibold text-blue-600 mb-6">Order #<span id="order-number"></span></p>
                <button id="close-success" class="bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-8 rounded-lg transition duration-200">
                    Continue Shopping
                </button>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-900 text-white mt-16 py-8">
        <div class="container mx-auto px-4 text-center">
            <p>&copy; 2025 Travel MVP. All rights reserved.</p>
            <p class="text-gray-400 mt-2">Pack smart. Travel better.</p>
        </div>
    </footer>

    <script>
        const BASE_PRICE = 5.00;
        const GOOGLE_SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbxmdR_aLMvlkx5bpgETYVqeWE_PsliauqSvi0WvNVMbuX3iJ3OawbTdbF4MsrYXTOiqSg/exec';
        
        const checkboxes = document.querySelectorAll('.addon-checkbox');
        const selectedItemsContainer = document.getElementById('selected-items');
        const bagPriceElement = document.getElementById('bag-price');
        const addToCartBtn = document.getElementById('add-to-cart-btn');
        const cartItemsContainer = document.getElementById('cart-items');
        const cartTotalElement = document.getElementById('cart-total');
        const checkoutBtn = document.getElementById('checkout-btn');
        const checkoutModal = document.getElementById('checkout-modal');
        const closeModalBtn = document.getElementById('close-modal');
        const checkoutForm = document.getElementById('checkout-form');
        const successModal = document.getElementById('success-modal');
        const closeSuccessBtn = document.getElementById('close-success');
        
        let cart = [];
        let bagCounter = 1;

        function updateCurrentBag() {
            let total = BASE_PRICE;
            selectedItemsContainer.innerHTML = '';

            checkboxes.forEach(checkbox => {
                if (checkbox.checked) {
                    const price = parseFloat(checkbox.dataset.price);
                    const name = checkbox.dataset.name;
                    total += price;

                    const itemDiv = document.createElement('div');
                    itemDiv.className = 'flex justify-between py-2 text-gray-700';
                    itemDiv.innerHTML = `
                        <span>${name}</span>
                        <span class="font-semibold">$${price.toFixed(2)}</span>
                    `;
                    selectedItemsContainer.appendChild(itemDiv);
                }
            });

            bagPriceElement.textContent = `$${total.toFixed(2)}`;
        }

        function addToCart() {
            const selectedAddons = [];
            let bagTotal = BASE_PRICE;

            checkboxes.forEach(checkbox => {
                if (checkbox.checked) {
                    const price = parseFloat(checkbox.dataset.price);
                    const name = checkbox.dataset.name;
                    selectedAddons.push({ name, price });
                    bagTotal += price;
                }
            });

            const bag = {
                id: bagCounter++,
                addons: selectedAddons,
                total: bagTotal
            };

            cart.push(bag);
            updateCart();
            resetBagBuilder();
        }

        function updateCart() {
            if (cart.length === 0) {
                cartItemsContainer.innerHTML = '<p class="text-gray-500 text-center py-4">Your cart is empty</p>';
                cartTotalElement.textContent = '$0.00';
                checkoutBtn.disabled = true;
                return;
            }

            let cartTotal = 0;
            cartItemsContainer.innerHTML = '';

            cart.forEach((bag, index) => {
                cartTotal += bag.total;
                
                const bagDiv = document.createElement('div');
                bagDiv.className = 'p-4 bg-gray-50 rounded-lg border border-gray-200';
                
                let addonsList = bag.addons.length > 0 
                    ? bag.addons.map(addon => `<li class="text-sm">${addon.name}</li>`).join('')
                    : '<li class="text-sm text-gray-500">No add-ons</li>';
                
                bagDiv.innerHTML = `
                    <div class="flex justify-between items-start mb-2">
                        <div>
                            <h3 class="font-semibold text-gray-900">Bag #${bag.id}</h3>
                            <ul class="mt-1 ml-4 list-disc text-gray-700">
                                ${addonsList}
                            </ul>
                        </div>
                        <div class="text-right">
                            <p class="font-bold text-gray-900">$${bag.total.toFixed(2)}</p>
                            <button onclick="removeFromCart(${index})" class="text-red-600 hover:text-red-800 text-sm mt-1">Remove</button>
                        </div>
                    </div>
                `;
                
                cartItemsContainer.appendChild(bagDiv);
            });

            cartTotalElement.textContent = `$${cartTotal.toFixed(2)}`;
            checkoutBtn.disabled = false;
        }

        function removeFromCart(index) {
            cart.splice(index, 1);
            updateCart();
        }

        function resetBagBuilder() {
            checkboxes.forEach(checkbox => {
                checkbox.checked = false;
            });
            updateCurrentBag();
        }

        checkboxes.forEach(checkbox => {
            checkbox.addEventListener('change', updateCurrentBag);
        });

        addToCartBtn.addEventListener('click', addToCart);

        // Checkout Modal
        checkoutBtn.addEventListener('click', () => {
            if (cart.length === 0) return;
            
            // Populate checkout summary
            const checkoutSummary = document.getElementById('checkout-summary');
            const checkoutTotal = document.getElementById('checkout-total');
            let total = 0;
            
            checkoutSummary.innerHTML = '';
            cart.forEach(bag => {
                total += bag.total;
                const bagDiv = document.createElement('div');
                bagDiv.className = 'text-sm text-gray-700';
                let addonsList = bag.addons.map(a => a.name).join(', ') || 'No add-ons';
                bagDiv.innerHTML = `<strong>Bag #${bag.id}:</strong> ${addonsList} - $${bag.total.toFixed(2)}`;
                checkoutSummary.appendChild(bagDiv);
            });
            
            checkoutTotal.textContent = `$${total.toFixed(2)}`;
            checkoutModal.classList.remove('hidden');
        });

        closeModalBtn.addEventListener('click', () => {
            checkoutModal.classList.add('hidden');
        });

        // Payment method toggle
        document.querySelectorAll('input[name="payment-method"]').forEach(radio => {
            radio.addEventListener('change', (e) => {
                const venmoInstructions = document.getElementById('venmo-instructions');
                if (e.target.value === 'venmo') {
                    venmoInstructions.classList.remove('hidden');
                } else {
                    venmoInstructions.classList.add('hidden');
                }
            });
        });

        // Submit Order
        checkoutForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            
            const submitBtn = document.getElementById('submit-order');
            submitBtn.disabled = true;
            submitBtn.textContent = 'Processing...';
            
            const orderNumber = 'TMV' + Date.now();
            const orderData = {
                orderNumber: orderNumber,
                customerName: document.getElementById('customer-name').value,
                customerEmail: document.getElementById('customer-email').value,
                customerPhone: document.getElementById('customer-phone').value,
                customerAddress: document.getElementById('customer-address').value,
                paymentMethod: document.querySelector('input[name="payment-method"]:checked').value,
                bags: cart,
                total: cart.reduce((sum, bag) => sum + bag.total, 0),
                orderDate: new Date().toISOString()
            };

            try {
                // Send to Google Apps Script
                const response = await fetch(GOOGLE_SCRIPT_URL, {
                    method: 'POST',
                    mode: 'no-cors',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(orderData)
                });

                // Show success modal
                document.getElementById('order-number').textContent = orderNumber;
                checkoutModal.classList.add('hidden');
                successModal.classList.remove('hidden');
                
                // Reset cart and form
                cart = [];
                updateCart();
                checkoutForm.reset();
                
            } catch (error) {
                console.error('Error submitting order:', error);
                alert('There was an error processing your order. Please try again or contact support.');
            } finally {
                submitBtn.disabled = false;
                submitBtn.textContent = 'Place Order';
            }
        });

        closeSuccessBtn.addEventListener('click', () => {
            successModal.classList.add('hidden');
        });

        // Close modals on outside click
        checkoutModal.addEventListener('click', (e) => {
            if (e.target === checkoutModal) {
                checkoutModal.classList.add('hidden');
            }
        });

        successModal.addEventListener('click', (e) => {
            if (e.target === successModal) {
                successModal.classList.add('hidden');
            }
        });

        // Make removeFromCart globally accessible
        window.removeFromCart = removeFromCart;
    </script>
</body>
</html>
